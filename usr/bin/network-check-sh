#!/bin/sh

# read functions
. $(dirname $0)/../lib/network-check/functions.sh

cat <<EOT
*****************************************
***   This is ${bold}network-check${normal} v0.0.1    ***
***   latest revision: 24.09.2016 by  ***
*** Yann BÃ¼chau (yann.buechau@web.de) ***
*****************************************
EOT

# get interfaces
INTERFACES=$(interfaces)

echo
echo "There are the interfaces:"
for INTERFACE in $INTERFACES;do
    if interface_is_wireless $INTERFACE;then
        TYPE="[ wireless ]"
    else
        TYPE="   [ wired ]"
    fi
    echo "${bold}$INTERFACE${normal} $TYPE"
done

echo
cat <<EOT
**********************
*** ${bold}physical check${normal} ***
**********************
EOT

for INTERFACE in $INTERFACES;do
    BOLDIF=$(bold $INTERFACE)
    if interface_is_wireless $INTERFACE;then
        info "$BOLDIF is a wireless interface."
    else
        info "$BOLDIF is a wired interface."
    fi
    if physical_connection $INTERFACE;then
        ok "There is a physical connection on interface ${bold}$INTERFACE${normal}."
    else
        warn "There is no physical connection on interface $INTERFACE."
    fi
done
